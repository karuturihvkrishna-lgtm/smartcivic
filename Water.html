<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Water Issue Reporting</title>
<link rel="stylesheet" href="Water.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div class="report-container">

    <h1>üíß Water Problem Reporting</h1>
    <p>Help your city by reporting water issues instantly.</p>

    <form>

        <label>Problem Title</label>
        <input type="text" placeholder="Ex: Pipe Leakage, No Water Supply" required>

        <label>Problem Description</label>
        <textarea placeholder="Describe the issue in detail..."></textarea>

        <label>Upload Photo / Video</label>
        <input type="file" accept="image/*,video/*" capture="environment">

        <label>Problem Location</label>
        <input type="text" id="location" placeholder="Tap 'Get Location'" readonly>

        <button type="button" onclick="getLocation()">üìç Get My Location</button>

        <div id="map"></div>

        <button type="submit" class="submit-btn">Submit Complaint</button>

    </form>
</div>

<script>
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else {
        alert("Location not supported");
    }
}

function showPosition(position){
    let lat = position.coords.latitude;
    let lon = position.coords.longitude;

    document.getElementById("location").value = lat + ", " + lon;

    document.getElementById("map").innerHTML = `
    <iframe width="100%" height="220" style="border:0;border-radius:10px"
    src="https://maps.google.com/maps?q=${lat},${lon}&output=embed"></iframe>`;
}

function showError(){
    alert("Location permission denied!");
}
</script>

</body>
</html>
